# Планирование разработки проекта для версии v2

2.90.1 +удалена сущность zwiftData из коллекции User. Изменена логика получения данных для профиля пользователя. Изменена логика получения и отображения профилей пользователей на странице модерации; 
2.90.2 +изменена логика получения данных для страницы Трансляций; 
2.90.3 +изменение сервиса по обновлению zwift-профилей всех райдеров по расписанию. Изменение сервиса обновления zwift-профиля пользователя по запросу; 
2.90.4 +удалён старого сервиса обновления zwiftData в профилях зарегистрированных пользователей;  
2.90.5 +изображения логотипа пользователя при авторизации их Rider коллекции; 
2.90.6 +обновление данных профиля на клиенте после запроса на обновления профиля с API Zwift;  
2.90.7 +баннер страницы Догонялок с результатами за сезон на страницы с результатами заездов Догонялок;  
2.90.8 +подсветка колонки CP в таблице результатов Эвента при наведении на соответствующую колонку;  
2.90.9 +подсветка колонки CP во всех таблицах, где есть CP при наведении на соответствующую колонку;  
2.90.10 +добавлена колонка racing score в таблицу результатов Эвента;  
2.90.11 +небольшие правки;  
2.90.12 +оптимизация получения данных для страниц статистика-Лидеры. Исправление багов на этих страницах;  
2.91.1 +Добавление в схему Фитфайла свойства banned, для исключения фитфайла в расчетах кривой мощности;  
2.91.2 +Исправление багов;  
2.91.3 +энд поинт, контроллер и сервис обновления состояния блокировки активности райдера в фитфайле;  
2.91.4 +базовые страницы для модерации пользователи, модерации активностей пользователя;  
2.91.5 +энд поинт, контроллер и сервис получения активностей райдера;  
2.91.6 +таблица с активностями райдера за последние 90 дней. Модерация блокировки активностей для исключения их данных в Кривой мощности и таблицах лидера;  
2.91.7 +сервис обновления данных кривой мощности и фитфайлов для зарегистрированного пользователя с привязанным zwiftId;  
2.91.8 +изменения в таблице пользователей для модерации;  
2.91.9 +изменена модерация фитфалов и кривой мощности с пользователя на райдера. Изменены сервисы, страницы модерации пользователей, добавлены страницы модерации райдеров;  
2.91.10 +сервис, контроллер для банна райдера (zwiftId) по списку причин;  
2.91.11 +таблица с баннами для райдера и их модерация. Обработчики редакса для получения и модерации баннов для райдеров;  
2.91.12 +фильтрация результатов CP райдеров с банном для рейтинговых таблиц;  
2.91.13 +переименование TableUsersActivities на TableRidersActivities;  
2.91.14 +добавление иконки управления райдерами в таблицы лидеров, результатов Эвента и в профиль райдера;  





---
-что будет при запросе на обновления райдера которого нет в Rider или в других данных в БД.  
-не отправляется ошибка на клиент в updateFitFileAndPowerCurveService если случилась внутри модулях данной функции.  
-проработать логику при привязки zwiftId к профилю пользователя и дополнительных zwiftId.
-на странице пользователи не отображается лого у тех кто добавил zwiftId, но не участвовал в заездах. Продумать этот вариант!!!  
-баг: в заезде 4354504 при выставлении classicGroup Vasily Suchkov(A) присваивается нулевое место??
-сделать сервис удаления фитфайла активности из БД с глючными данными мощности, с последующим пересчетом CP для райдера;  
-сделать оповещение при генерации большого количества ошибок на сервере;  
-сделать оповещение при генерации большого количества запросов на APIZwift;  
-обновлять данные райдера после получения результатов заезда?;  
-убрать перезагрузку страницы при обновлении данных эвента (расписание);  
-запрет на внесение изменений данных Эвента если пользователь не является модератором в Клубе;  
-переделать FormRequest под универсальные редюсеры;  
-очистка redis раз в сутки, принудительная очистка redis по запросу админа;  
-сделать из двух preparation создания и изменения Эвентов один общий;  
-main banner перенести в мобильной версии под карточку первого Эвента;  
-в баннере для десктоп отключить видео рекламу. Сделать отдельный банер для мобильной версии, видео рекламу оставить;  
-для баров, показывающих ватты и уд.ватты в профиле сделать анимацию огня и красного цвета при 100% заполнении соответствующего бара;  
-навести порядок с resetFilterCategory, многие сбрасываются при монтировании компонента, а не при размонтировании;  
-определение категории при регистрации в Эвент и после получения результата в Эвенте;
-ошибка после сохранения изменений в Эвенте, который не добавлен на сайт 
-обработка ошибки при сохранении изменений с новыми лидерами Эвента "not.member.of.external.resource";  
-сделать универсальным компонент FindZwiftProfileNew;  
-сохранение powerCurve для райдеров с закрытыми профилями в Звифте;  
-что будет если сменить основной профиль при дополнительных. Поставить запрет на смену основного
при наличии дополнительных?;  
-{ zwiftIdAdditional: [] }, убрать появление пустых массивов;  
-ZwiftProfileSchema проверить реализацию, когда обновляется и где запрашивается. Создавалась для
уменьшения и оптимизации запросов с ZwiftAPI;  
 -переделать компоненты навигации с использованием модулей navActive;  
-очищать данные из фитфайла активностей которые старше 90 дней???;  
-LeadersInIntervals исключать результаты дисквалифицированных и с ВиртуалПауэр;  
-сделать тесты на getWeek;  
-перенести в модули семантические reducer;  
-выделение столбца по которому ведется сортировка;  
-проработать объект описывающий дисквалификации и нарушения;  
-для закрытых аккаунтов брать CP из результатов Эвента;  
-лого и данные профиля на странице кривой мощности;  
-добавить определение категорий для женщин согласно Звифту (Category Enforcement);  
-перенести в редакс стейты при пагинации;  
-добавить на страницу описание догонялок, картинку;

-перенести все окна confirms в хуки;  
-сделать сервис для загрузки и хранения изображений для заездов в Звифте;  
-очистка singedEiders у которых нет привязки к eventSubgroup (документы по какой то причине не
удалились);  
-сделать кнопку генерации токена. Если токен "протух" автоматически генерировать новый;  
-!!!количество финишировавших считается количеству в Звифте, не учитывается ручное добавление
результата;  
-ручное добавление результатов заезда;  
-добавить HOC для отображения блоков для админов(модераторов);  
-сортировка таблиц;  
-сделать "хлебные крошки";  
-засунуть сервер в webpack;  
-засунуть сервер в eslint; -при обновлении результатов заезда изменять параметр
totalFinishedCount;  
-если компонент не универсальный, то добавлять принадлежность в имя компонента; -добавить ссылки
на роуты в описание эвента;  
-как сделать общими файлы asset для fronta и backenda(например описание логов );  
